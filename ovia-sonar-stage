# SonarQube Pipeline Stage
stage('SonarQube Analysis'){
    steps{
        withSonarQubeEnv('sonar'){
            sh ''' $SCANNER_HOME/bin/sonar-scanner -Dsonar.projectName=BoardGame -Dsonar.projectKey=BoardGame -Dsonar.java.binaries=.
        }
    }
}
stage('Quality Gate'){
     steps{
        script{
            waitForQualityGate abortPipeline: false, credentialsId: 'sonar-token'
        }
     }
}
stage('Publish To Nexus')